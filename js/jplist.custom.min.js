!function(){var a=function(a,b){var c,d;a&&a.controller&&a.controller.collection&&(c=a.controller.collection.dataitems.length,jQuery.isNumeric(b.index)&&0<=b.index&&b.index<=a.controller.collection.dataitems.length&&(c=Number(b.index)),b.$item&&a.controller.collection.addDataItem(b.$item,a.controller.collection.paths,c),b.$items&&(d=b.$items,jQuery.isArray(b.$items)&&(d=jQuery(b.$items).map(function(){return this.toArray()})),a.controller.collection.addDataItems(d,a.controller.collection.paths,c)),a.observer.trigger(a.observer.events.unknownStatusesChanged,[!1]))},b=function(a,b){var c;a&&a.controller&&a.controller.collection&&(b.$item&&(a.controller.collection.delDataitem(b.$item),b.$item.remove()),b.$items&&(c=b.$items,jQuery.isArray(b.$items)&&(c=jQuery(b.$items).map(function(){return this.toArray()})),a.controller.collection.delDataitems(c),c.remove()),a.observer.trigger(a.observer.events.unknownStatusesChanged,[!1]))},c=function(c,d,e){switch(d){case"add":a(c,e);break;case"del":b(c,e);break;case"getDataItems":if(d=null,c.options&&c.options.dataSource)switch(c.options.dataSource.type){case"html":c.controller&&c.controller.collection&&(d=c.controller.collection.dataitems);break;case"server":c.controller&&c.controller.model&&c.controller.model.dataItem&&(d=c.controller.model.dataItem)}return d}},d=function(a){a.observer.on(a.observer.events.knownStatusesChanged,function(b,c){a.controller.renderStatuses(c)}),a.observer.on(a.observer.events.statusesAppliedToList,function(b,c,d){jQuery.fn.jplist.info(a.options,"panel statusesAppliedToList -> setControlsStatuses: ",d),a.panel.setStatuses(d),jQuery.fn.jplist.dal.services.DeepLinksService.updateUrlPerControls(a.options,a.panel.getDeepLinksURLPerControls())}),a.observer.on(a.observer.events.unknownStatusesChanged,function(b,c){jQuery.fn.jplist.info(a.options,"panel statusesChanged, isDefault: ",c),a.panel.unknownStatusesChanged(c)}),a.$root.find(a.options.iosBtnPath).on("click",function(){jQuery(this).next(a.options.panelPath).toggleClass("jplist-ios-show")}),a.observer.on(a.observer.events.statusChanged,function(b,c){jQuery.fn.jplist.info(a.options,"panel statusChanged: ",c),a.history.addStatus(c),a.panel.mergeStatuses(c)}),a.observer.on(a.observer.events.statusesChangedByDeepLinks,function(b,c,d){a.panel.statusesChangedByDeepLinks(c,d)})},e=function(a,b){var c={observer:null,panel:null,controller:null,$root:b};switch(c.options=jQuery.extend(!0,{debug:!1,command:"init",commandData:{},itemsBox:".list",itemPath:".list-item",panelPath:".panel",noResults:".jplist-no-results",redrawCallback:"",iosBtnPath:".jplist-ios-button",animateToTop:"html, body",animateToTopDuration:0,effect:"",duration:300,fps:24,storage:"",storageName:"jplist",cookiesExpiration:-1,deepLinking:!1,hashStart:"#",delimiter0:":",delimiter1:"|",delimiter2:"~",delimiter3:"!",historyLength:10,dataSource:{type:"html",server:{ajax:{url:"server.php",dataType:"html",type:"POST"},serverOkCallback:null,serverErrorCallback:null},render:null}},a),c.observer=new jQuery.fn.jplist.app.events.PubSub(c.$root,c.options),c.history=new jQuery.fn.jplist.app.History(c.$root,c.options,c.observer),c.panel=new jQuery.fn.jplist.ui.panel.controllers.PanelController(b,c.options,c.history,c.observer),c.options.dataSource=c.options.dataSource||{},c.options.dataSource.type=c.options.dataSource.type||"html",jQuery.fn.jplist.info(c.options,"Data Source Type: ",c.options.dataSource.type),c.options.dataSource.type){case"html":c.controller=new jQuery.fn.jplist.ui.list.controllers.DOMController(c.$root,c.options,c.observer,c.panel,c.history);break;case"server":jQuery.fn.jplist.info(c.options,"Data Source: ",c.options.dataSource),c.controller=new jQuery.fn.jplist.ui.list.controllers.ServerController(c.$root,c.options,c.observer,c.panel,c.history)}return d(c),c.options.deepLinking?(jQuery.fn.jplist.info(c.options,"Deep linking enabled",""),c.panel.setStatusesByDeepLink()):c.panel.setStatusesFromStorage(),c.observer.trigger(c.observer.events.init,[]),jQuery.extend(this,c)};jQuery.fn.jplist=function(a){if(!a.command||"init"===a.command)return this.each(function(){var b,c=jQuery(this);b=new e(a,c),c.data("jplist",b)});var b;return(b=this.data("jplist"))?c(b,a.command,a.commandData):void 0}}(),jQuery.fn.jplist.controlTypes={},jQuery.fn.jplist.itemControlTypes={},jQuery.fn.jplist.settings={},jQuery.fn.jplist.app=jQuery.fn.jplist.app||{},jQuery.fn.jplist.app.services=jQuery.fn.jplist.app.services||{},jQuery.fn.jplist.app.services.DTOMapperService=jQuery.fn.jplist.app.services.DTOMapperService||{},jQuery.fn.jplist.app.dto=jQuery.fn.jplist.app.dto||{},jQuery.fn.jplist.app.events=jQuery.fn.jplist.app.events||{},jQuery.fn.jplist.domain=jQuery.fn.jplist.domain||{},jQuery.fn.jplist.domain.dom=jQuery.fn.jplist.domain.dom||{},jQuery.fn.jplist.domain.dom.models=jQuery.fn.jplist.domain.dom.models||{},jQuery.fn.jplist.domain.dom.collections=jQuery.fn.jplist.domain.dom.collections||{},jQuery.fn.jplist.domain.dom.services=jQuery.fn.jplist.domain.dom.services||{},jQuery.fn.jplist.domain.dom.services.FiltersService=jQuery.fn.jplist.domain.dom.services.FiltersService||{},jQuery.fn.jplist.domain.dom.services.SortService=jQuery.fn.jplist.domain.dom.services.SortService||{},jQuery.fn.jplist.domain.dom.services.pagination=jQuery.fn.jplist.domain.dom.services.pagination||{},jQuery.fn.jplist.domain.server=jQuery.fn.jplist.domain.server||{},jQuery.fn.jplist.domain.server.models=jQuery.fn.jplist.domain.server.models||{},jQuery.fn.jplist.domain.deeplinks=jQuery.fn.jplist.domain.deeplinks||{},jQuery.fn.jplist.domain.deeplinks.services=jQuery.fn.jplist.domain.deeplinks.services||{},jQuery.fn.jplist.dal=jQuery.fn.jplist.dal||{},jQuery.fn.jplist.dal.services=jQuery.fn.jplist.dal.services||{},jQuery.fn.jplist.ui=jQuery.fn.jplist.ui||{},jQuery.fn.jplist.ui.list=jQuery.fn.jplist.ui.list||{},jQuery.fn.jplist.ui.list.models=jQuery.fn.jplist.ui.list.models||{},jQuery.fn.jplist.ui.list.controllers=jQuery.fn.jplist.ui.list.controllers||{},jQuery.fn.jplist.ui.list.collections=jQuery.fn.jplist.ui.list.collections||{},jQuery.fn.jplist.ui.list.views=jQuery.fn.jplist.ui.list.views||{},jQuery.fn.jplist.ui.controls=jQuery.fn.jplist.ui.controls||{},jQuery.fn.jplist.ui.itemControls=jQuery.fn.jplist.ui.itemControls||{},jQuery.fn.jplist.ui.statuses=jQuery.fn.jplist.ui.statuses||{},jQuery.fn.jplist.ui.panel=jQuery.fn.jplist.ui.panel||{},jQuery.fn.jplist.ui.panel.controllers=jQuery.fn.jplist.ui.panel.controllers||{},jQuery.fn.jplist.ui.panel.collections=jQuery.fn.jplist.ui.panel.collections||{},function(){jQuery.fn.jplist.app.events.PubSub=function(a,b){var c={options:b,$root:a,events:{init:"1",unknownStatusesChanged:"2",knownStatusesChanged:"3",statusChanged:"4",statusesChangedByDeepLinks:"5",listSorted:"6",listFiltered:"7",listPaginated:"8",dataItemAdded:"9",dataItemRemoved:"10",collectionReadyEvent:"11",statusesAppliedToList:"12",animationStartEvent:"13",animationStepEvent:"14",animationCompleteEvent:"15"}};return jQuery.extend(!0,jQuery({}),this,c)}}(),function(){jQuery.fn.jplist.app.dto.StatusDTO=function(a,b,c,d,e,f,g,h){this.action=b,this.name=a,this.type=c,this.data=d,this.inStorage=e,this.inAnimation=f,this.isAnimateToTop=g,this.inDeepLinking=h}}(),function(){jQuery.fn.jplist.app.History=function(a,b,c){this.options=b,this.observer=c,this.$root=a,this.statusesQueue=[],this.listStatusesQueue=[]},jQuery.fn.jplist.app.History.prototype.addStatus=function(a){this.statusesQueue.push(a),this.statusesQueue.length>this.options.historyLength&&this.statusesQueue.shift()},jQuery.fn.jplist.app.History.prototype.getLastStatus=function(){var a=null;return 0<this.statusesQueue.length&&(a=this.statusesQueue[this.statusesQueue.length-1]),a},jQuery.fn.jplist.app.History.prototype.popStatus=function(){var a=null;return 0<this.statusesQueue.length&&(a=this.statusesQueue.pop()),a},jQuery.fn.jplist.app.History.prototype.getLastList=function(){var a=null;return 0<this.listStatusesQueue.length&&(a=this.listStatusesQueue[this.listStatusesQueue.length-1]),a},jQuery.fn.jplist.app.History.prototype.addList=function(a){this.listStatusesQueue.push(a),this.listStatusesQueue.length>this.options.historyLength&&this.listStatusesQueue.shift()},jQuery.fn.jplist.app.History.prototype.popList=function(){var a=null;return 0<this.listStatusesQueue.length&&(a=this.listStatusesQueue.pop()),a}}(),function(){var a=function(a,b,c,d){b=[];for(var e,f=0;f<a.statuses.length;f++)e=a.statuses[f],e[c]===d&&(e.initialIndex=f,b.push(e));return b},b=function(a,b){for(var c,d=[],e=0;e<a.statuses.length;e++)c=a.statuses[e],c.action===b&&d.push(c);return d},c=function(b,c,d){var e,f,g,h;if(0===b.statuses.length)b.statuses.push(c);else if(e=a(b,b.statuses,"action",c.action),0===e.length)b.statuses.push(c);else if(g=a(b,e,"name",c.name),0===g.length)b.statuses.push(c);else for(var i=0;i<g.length;i++)e=g[i],e.type===c.type?d?b.statuses[e.initialIndex]=c:e.data&&c.data&&(f=!1,h=[],jQuery.each(e.data,function(a,b){c[a]!==b&&(f=!0,h.push(a+": "+c[a]+" !== "+b))}),f&&jQuery.fn.jplist.warn(b.options,"The statuses have the same name, action and type, but different data values",[e,c,h])):(b.statuses[e.initialIndex]=jQuery.extend(!0,{},e,c),b.statuses[e.initialIndex].type="combined")};jQuery.fn.jplist.app.dto.StatusesDTOCollection=function(a,b,c){this.options=a,this.observer=b,this.statuses=c||[]},jQuery.fn.jplist.app.dto.StatusesDTOCollection.prototype.getStatusesByAction=function(a){return b(this,a)},jQuery.fn.jplist.app.dto.StatusesDTOCollection.prototype.add=function(a,b){return c(this,a,b)},jQuery.fn.jplist.app.dto.StatusesDTOCollection.prototype.get=function(a){var b=null;return a>=0&&a<this.statuses.length&&(b=this.statuses[a]),b},jQuery.fn.jplist.app.dto.StatusesDTOCollection.prototype.toArray=function(){return this.statuses},jQuery.fn.jplist.app.dto.StatusesDTOCollection.prototype.getSortStatuses=function(){var a,c,d,e=[];if(a=b(this,"sort"),jQuery.isArray(a))for(var f=0;f<a.length;f++)if((c=a[f])&&c.data&&c.data.sortGroup&&jQuery.isArray(c.data.sortGroup)&&0<c.data.sortGroup.length)for(var g=0;g<c.data.sortGroup.length;g++)d=new jQuery.fn.jplist.app.dto.StatusDTO(c.name,c.action,c.type,c.data.sortGroup[g],c.inStorage,c.inAnimation,c.isAnimateToTop,c.inDeepLinking),e.push(d);else e.push(c);return e},jQuery.fn.jplist.app.dto.StatusesDTOCollection.prototype.getFilterStatuses=function(){var a,c,d,e=[];if(a=b(this,"filter"),jQuery.isArray(a))for(var f=0;f<a.length;f++)(c=a[f])&&c.data&&c.data.filterType&&(d=jQuery.fn.jplist.app.services.DTOMapperService.filters[c.data.filterType],jQuery.isFunction(d)&&e.push(c));return e}}(),function(){jQuery.fn.jplist.app.services.DTOMapperService.filters={},jQuery.fn.jplist.app.services.DTOMapperService.filters.TextFilter=function(a,b){var c=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(a.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.textFilter(a.data.value,c,b,a.data.ignore,a.data.mode)},jQuery.fn.jplist.app.services.DTOMapperService.filters.path=function(a,b){var c=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(a.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.pathFilter(c,b)},jQuery.fn.jplist.app.services.DTOMapperService.filters.range=function(a,b){var c=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(a.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.rangeFilter(c,b,a.data.min,a.data.max,a.data.prev,a.data.next)},jQuery.fn.jplist.app.services.DTOMapperService.filters.date=function(a,b){var c=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(a.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.dateFilter(a.data.year,a.data.month,a.data.day,c,b,a.data.format)},jQuery.fn.jplist.app.services.DTOMapperService.filters.dateRange=function(a,b){var c=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(a.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.dateRangeFilter(c,b,a.data.format,a.data.prev_year,a.data.prev_month,a.data.prev_day,a.data.next_year,a.data.next_month,a.data.next_day)},jQuery.fn.jplist.app.services.DTOMapperService.filters.pathGroup=function(a,b){return jQuery.fn.jplist.domain.dom.services.FiltersService.pathGroupFilter(a.data.pathGroup,b)},jQuery.fn.jplist.app.services.DTOMapperService.filters.textGroup=function(a,b){return jQuery.fn.jplist.domain.dom.services.FiltersService.textGroupFilter(a.data.textGroup,a.data.logic,a.data.path,a.data.ignoreRegex,b,a.data.mode)},jQuery.fn.jplist.app.services.DTOMapperService.filters.textFilterPathGroup=function(a,b){return jQuery.fn.jplist.domain.dom.services.FiltersService.textFilterPathGroup(a.data.textAndPathsGroup,a.data.ignoreRegex,b,a.data.mode)},jQuery.fn.jplist.app.services.DTOMapperService.sort={},jQuery.fn.jplist.app.services.DTOMapperService.sort.text=function(a,b,c){var d=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(a.data.path,a.data.type);return jQuery.fn.jplist.domain.dom.services.SortService.textHelper(b,c,a.data.order,d,a.data.ignore||"")},jQuery.fn.jplist.app.services.DTOMapperService.sort.number=function(a,b,c){var d=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(a.data.path,a.data.type);return jQuery.fn.jplist.domain.dom.services.SortService.numbersHelper(b,c,a.data.order,d)},jQuery.fn.jplist.app.services.DTOMapperService.sort.datetime=function(a,b,c){var d=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(a.data.path,a.data.type);return jQuery.fn.jplist.domain.dom.services.SortService.datetimeHelper(b,c,a.data.order,d,a.data.dateTimeFormat||"")}}(),function(){jQuery.fn.jplist.logEnabled=function(a){return a.debug&&window.console&&jQuery.isFunction(window.console.log)},jQuery.fn.jplist.log=function(a,b,c){jQuery.fn.jplist.logEnabled(a)&&window.console.log(b,c)},jQuery.fn.jplist.info=function(a,b,c){jQuery.fn.jplist.logEnabled(a)&&window.console.info(b,c)},jQuery.fn.jplist.error=function(a,b,c){jQuery.fn.jplist.logEnabled(a)&&window.console.error(b,c)},jQuery.fn.jplist.warn=function(a,b,c){jQuery.fn.jplist.logEnabled(a)&&window.console.warn(b,c)}}(),function(){jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel=function(a,b){this.jqPath=a,this.dataType=b},jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel.prototype.isEqual=function(a,b){var c=!1;return b?this.jqPath===a.jqPath&&(c=!0):this.jqPath===a.jqPath&&this.dataType===a.dataType&&(c=!0),c}}(),function(){jQuery.fn.jplist.domain.dom.models.DataItemMemberModel=function(a,b){this.$element=a,this.path=b,this.text=a.text(),this.html=a.html()}}(),function(){jQuery.fn.jplist.domain.dom.models.DataItemModel=function(a,b,c){this.pathitems=[],this.jqElement=this.$item=a,this.index=c,this.html=jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml(a);var d,e;for(a=[],c=0;c<b.length;c++)d=b[c],e=this.$item.find(d.jqPath),0<e.length&&(d=new jQuery.fn.jplist.domain.dom.models.DataItemMemberModel(e,d),a.push(d));this.pathitems=a},jQuery.fn.jplist.domain.dom.models.DataItemModel.prototype.findPathitem=function(a){for(var b,c=null,d=0;d<this.pathitems.length;d++)if(b=this.pathitems[d],b.path.isEqual(a,!0)){c=b;break}return c}}(),function(){var a=function(a,b){var c,d,e;if(c=new jQuery.fn.jplist.app.dto.StatusesDTOCollection(a.options,a.observer,b).getFilterStatuses(),0<c.length){for(var f=0;f<c.length;f++)d=c[f],e=jQuery.fn.jplist.app.services.DTOMapperService.filters[d.data.filterType],a.dataview=e(d,a.dataview);a.observer.trigger(a.observer.events.listFiltered,[b,a])}},b=function(a,b){var c,d,e=null;if(c=new jQuery.fn.jplist.app.dto.StatusesDTOCollection(a.options,a.observer,b).getStatusesByAction("paging",b),0<c.length){for(var f=0;f<c.length;f++)e=c[f],d=e.data.currentPage||0,e=new jQuery.fn.jplist.domain.dom.services.PaginationService(d,e.data.number,a.dataview.length),c[f].data.paging=e,a.dataview=jQuery.fn.jplist.domain.dom.services.FiltersService.pagerFilter(e,a.dataview);a.observer.trigger(a.observer.events.listPaginated,[b,a])}},c=function(a,b){var c=[],c=new jQuery.fn.jplist.app.dto.StatusesDTOCollection(a.options,a.observer,b).getSortStatuses();0<c.length&&(jQuery.fn.jplist.domain.dom.services.SortService.doubleSort(c,a.dataview),a.observer.trigger(a.observer.events.listSorted,[b,a]))},d=function(a){return jQuery(a.dataview).map(function(a,b){return b.jqElement.get()})},e=function(a){return jQuery(a.dataitems).map(function(a,b){return b.jqElement.get()})},f=function(a){a.dataview=jQuery.merge([],a.dataitems)},g=function(a,b){for(var c,d,e=-1,f=0;f<a.dataitems.length;f++)if(c=a.dataitems[f],c=jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml(c.jqElement),d=jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml(b),c===d){e=f;break}return e},h=function(a,b){var c;c=g(a,b),-1!==c&&(a.dataitems.splice(c,1),a.observer.trigger(a.observer.events.dataItemRemoved,[b,a.dataitems]))},i=function(a,b){b.each(function(){h(a,jQuery(this))})},j=function(a,b,c,d){b=new jQuery.fn.jplist.domain.dom.models.DataItemModel(b,c,d),a.dataitems.splice(d,0,b),a.observer.trigger(a.observer.events.dataItemAdded,[b,a.dataitems])},k=function(a,b,c,d,e){for(var f;c<b.length;c++)f=b.eq(c),3!==f.get(0).nodeType&&(j(a,f,d,e),c+1<b.length&&0===c%50&&window.setTimeout(function(){k(a,b,c,d,e)},0))};jQuery.fn.jplist.domain.dom.collections.DataItemsCollection=function(a,b,c,d){this.dataitems=[],this.dataview=[],this.options=a,this.observer=b,this.paths=d,0<c.length&&(k(this,c,0,d,0),f(this)),this.observer.trigger(this.observer.events.collectionReadyEvent,[this])},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.applyStatuses=function(d){f(this),c(this,d),a(this,d),b(this,d),this.observer.trigger(this.observer.events.statusesAppliedToList,[this,d])},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.filter=function(b){a(this,b)},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.sort=function(a){c(this,a)},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.pagination=function(a){b(this,a)},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.dataviewToJqueryObject=function(){return d(this)},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.dataitemsToJqueryObject=function(){return e(this)},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.resetDataview=function(){f(this)},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.empty=function(){this.dataitems=[],this.dataview=[]},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.addDataItem=function(a,b,c){j(this,a,b,c)},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.addDataItems=function(a,b,c){k(this,a,0,b,c),f(this)},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.delDataitem=function(a){h(this,a)},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.delDataitems=function(a){i(this,a)},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.indexOf=function(a){return g(this,a)},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.dataviewToString=function(){var a,b,c="";for(b=0;b<this.dataview.length;b++)a=this.dataview[b],c+=a.content;return c}}(),function(){var a=function(a,b){for(var c,d=!1,e=0;e<a.paths.length;e++)if(c=a.paths[e],c.isEqual(b,!0)){d=!0;break}return d};jQuery.fn.jplist.domain.dom.collections.DataItemMemberPathCollection=function(a,b){this.options=a,this.observer=b,this.paths=[]},jQuery.fn.jplist.domain.dom.collections.DataItemMemberPathCollection.prototype.add=function(b){a(this,b)||this.paths.push(b)},jQuery.fn.jplist.domain.dom.collections.DataItemMemberPathCollection.prototype.addRange=function(b){for(var c=0;c<b.length;c++){var d=b[c];a(this,d)||this.paths.push(d)}},jQuery.fn.jplist.domain.dom.collections.DataItemMemberPathCollection.prototype.isPathInList=function(b){return a(this,b)}}(),function(){jQuery.fn.jplist.domain.dom.services.PaginationService=function(a,b,c){c=Number(c),isNaN(c)&&(c=0),c=this.itemsNumber=c,null===b?b=c:(b=Number(b),isNaN(b)&&(b=c)),this.itemsOnPage=b,b=(b=this.itemsOnPage)?Math.ceil(this.itemsNumber/b):0,b=this.pagesNumber=b,a=Number(a),isNaN(a)&&(a=0),a>b-1&&(a=0),this.currentPage=a,this.start=this.currentPage*this.itemsOnPage,a=this.itemsNumber,b=this.start+this.itemsOnPage,b>a&&(b=a),this.end=b,a=this.currentPage,this.prevPage=0>=a?0:a-1,a=this.currentPage,b=this.pagesNumber,this.nextPage=0===b?0:a>=b-1?b-1:a+1}}(),function(){jQuery.fn.jplist.domain.dom.services.PaginationGoogleService=function(a,b,c){c=Number(c),isNaN(c)&&(c=0),c=this.itemsNumber=c,null===b?b=c:(b=Number(b),isNaN(b)&&(b=c)),this.itemsOnPage=b,b=(b=this.itemsOnPage)?Math.ceil(this.itemsNumber/b):0,b=this.pagesNumber=b,a=Number(a),isNaN(a)&&(a=0),a>b-1&&(a=0),this.currentPage=a,this.start=this.currentPage*this.itemsOnPage,a=this.itemsNumber,b=this.start+this.itemsOnPage,b>a&&(b=a),this.end=b,a=this.currentPage,this.prevPage=0>=a?0:a-1,a=this.currentPage,b=this.pagesNumber,this.nextPage=0===b?0:a>=b-1?b-1:a+1}}(),function(){jQuery.fn.jplist.domain.dom.services.FiltersService.dateFilter=function(a,b,c,d,e,f){for(var g,h,i=[],j=0;j<e.length;j++)g=e[j],(h=g.findPathitem(d))&&(jQuery.isNumeric(a)&&jQuery.isNumeric(b)&&jQuery.isNumeric(c)?(h=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(h.text,f))&&jQuery.isFunction(h.getFullYear)&&(h.setHours(0),h.setMinutes(0),h.setSeconds(0),h.getFullYear()===a&&h.getMonth()===b&&h.getDate()===c&&i.push(g)):i.push(g));return i}}(),function(){jQuery.fn.jplist.domain.dom.services.FiltersService.dateRangeFilter=function(a,b,c,d,e,f,g,h,i){for(var j,k,l,m,n=[],o=0;o<b.length;o++)j=b[o],(k=j.findPathitem(a))&&(l=!jQuery.isNumeric(d)||!jQuery.isNumeric(e)||!jQuery.isNumeric(f),m=!jQuery.isNumeric(g)||!jQuery.isNumeric(h)||!jQuery.isNumeric(i),l||m?n.push(j):(m=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(k.text,c))&&jQuery.isFunction(m.getFullYear)&&(k=new Date(d,e,f),l=new Date(g,h,i),m.setHours(0),m.setMinutes(0),m.setSeconds(0),m>=k&&l>=m&&n.push(j)));return n}}(),function(){jQuery.fn.jplist.domain.dom.services.FiltersService.pagerFilter=function(a,b){return b.slice(a.start,a.end)}}(),function(){jQuery.fn.jplist.domain.dom.services.FiltersService.pathFilter=function(a,b){for(var c,d,e=[],f=0;f<b.length;f++)c=b[f],"default"===a.jqPath?e.push(c):(d=c.findPathitem(a))&&e.push(c);return e}}(),function(){jQuery.fn.jplist.domain.dom.services.FiltersService.pathGroupFilter=function(a,b){var c,d,e=[],f=[];if(0>=a.length)return b;for(d=0;d<a.length;d++)c=a[d],c=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(c,null),e.push(c);for(var g=0;g<b.length;g++){d=b[g];for(var h=0;h<e.length;h++){if(c=e[h],"default"===c.jqPath){f.push(d);break}(c=d.findPathitem(c))&&f.push(d)}}return f}}(),function(){jQuery.fn.jplist.domain.dom.services.FiltersService.rangeFilter=function(a,b,c,d,e,f){c=[];for(var g,h=jQuery.isNumeric(e),i=jQuery.isNumeric(f),j=0;j<b.length;j++)d=b[j],(g=d.findPathitem(a))&&(g=Number(g.text.replace(/[^-0-9\.]+/g,"")),isNaN(g)||(h&&i?g>=e&&f>=g&&c.push(d):h&&!i?g>=e&&c.push(d):!h&&i&&f>=g&&c.push(d)));return c}}(),function(){var a=function(a){var b,c=[];if(a)for(var d=0;d<a.length;d++)(b=jQuery.trim(a[d]))&&c.push(b);return c},b=function(b,c){var d,e=!1;if(d=c.split(" or "),d=a(d),0<d.length)for(var e=-1!==b.indexOf(d[0]),f=1;f<d.length;f++)e=e||-1!==b.indexOf(d[f]);return e},c=function(c,d){var e,f,g=!1;if(e=d.split(" and "),e=a(e),0<e.length){f=e[0];for(var g=-1===f.indexOf(" or ")?-1!==c.indexOf(f):b(c,f),h=1;h<e.length;h++)f=e[h],g=-1===f.indexOf(" or ")?g&&-1!==c.indexOf(f):g&&b(c,f)}return g};jQuery.fn.jplist.domain.dom.services.FiltersService.advancedSearchParse=function(d,e){if(e=jQuery.trim(e),-1===e.indexOf(" or ")&&-1===e.indexOf(" and ")&&-1===e.indexOf("not "))return-1!==d.indexOf(e);var f,g,h=!1;if(f=e.split("not "),f=a(f),0<f.length){g=f[0];for(var h=-1===g.indexOf(" and ")?-1===g.indexOf(" or ")?-1===d.indexOf(g):b(d,g):c(d,g),i=1;i<f.length;i++)g=f[i],h=-1===g.indexOf(" and ")?(h=-1===g.indexOf(" or ")?h&&-1===d.indexOf(g):h&&b(d,g))&&b(d,g):h&&c(d,g)}return h}}(),function(){jQuery.fn.jplist.domain.dom.services.FiltersService.textGroupFilter=function(a,b,c,d,e,f){var g,h,i;f=[];var j,k;if(0>=a.length)return e;i=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(c,null);for(var l=0;l<e.length;l++)if(c=e[l],h=c.findPathitem(i),"default"===i.jqPath)f.push(c);else if(h)if(h=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(h.text,d),"or"===b){for(k=0;k<a.length;k++)if(g=a[k],g=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(g,d),jQuery.fn.jplist.domain.dom.services.FiltersService.advancedSearchParse(h,g)){f.push(c);break}}else{for(j=[],k=0;k<a.length;k++)g=a[k],g=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(g,d),jQuery.fn.jplist.domain.dom.services.FiltersService.advancedSearchParse(h,g)&&j.push(g);j.length===a.length&&f.push(c)}return f}}(),function(){jQuery.fn.jplist.domain.dom.services.FiltersService.textFilter=function(a,b,c,d,e){var f,g,h,i=[];e=e||"contains";for(var j=0;j<c.length;j++)if(f=c[j],g=f.findPathitem(b),"default"===b.jqPath)i.push(f);else if(g)switch(g=jQuery.trim(jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(g.text,d)),h=jQuery.trim(jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(a,d)),e){case"startsWith":g.startsWith(h)&&i.push(f);break;case"endsWith":g.endsWith(h)&&i.push(f);break;case"advanced":jQuery.fn.jplist.domain.dom.services.FiltersService.advancedSearchParse(g,h)&&i.push(f);break;default:-1!==g.indexOf(h)&&i.push(f)}return i}}(),function(){jQuery.fn.jplist.domain.dom.services.FiltersService.textFilterPathGroup=function(a,b,c,d){var e,f;d=[];var g,h,i,j=[];for(i=0;i<a.length;i++)h=a[i],h.selected&&(e=h.path,f=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(e,null),h.pathObj=f,d.push(h));if(0>=d.length)return c;for(e=0;e<c.length;e++){a=c[e],i=!1;for(var k=0;k<d.length;k++)if(h=d[k],f=h.pathObj){if("default"===f.jqPath){i=!0;break}if(f=a.findPathitem(f))switch(f=jQuery.trim(jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(f.text,b)),g=jQuery.trim(jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(h.text,b)),h.mode){case"startsWith":f.startsWith(g)&&(i=!0);break;case"endsWith":f.endsWith(g)&&(i=!0);break;case"advanced":jQuery.fn.jplist.domain.dom.services.FiltersService.advancedSearchParse(f,g)&&(i=!0);break;default:-1!==f.indexOf(g)&&(i=!0)}}i&&j.push(a)}return j}}(),function(){jQuery.fn.jplist.domain.dom.services.SortService.datetimeHelper=function(a,b,c,d,e){return a=a.findPathitem(d),b=b.findPathitem(d),a&&b?(jQuery.trim(e)?(d=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(a.text,e),e=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(b.text,e)):(d=new Date(Date.parse(a.text)),e=new Date(Date.parse(b.text))),d==e?0:"asc"==c?d>e?1:-1:e>d?1:-1):0},jQuery.fn.jplist.domain.dom.services.SortService.datetime=function(a,b,c,d){c.sort(function(c,e){return jQuery.fn.jplist.domain.dom.services.SortService.datetimeHelper(c,e,a,b,d)})}}(),function(){jQuery.fn.jplist.domain.dom.services.SortService.numbersHelper=function(a,b,c,d){return a=a.findPathitem(d),b=b.findPathitem(d),a&&b?(d=parseFloat(a.text.replace(/[^-0-9\.]+/g,"")),b=parseFloat(b.text.replace(/[^-0-9\.]+/g,"")),c=d==b?0:"asc"==c?isNaN(d)?1:isNaN(b)?-1:d-b:isNaN(d)?1:isNaN(b)?-1:b-d):0},jQuery.fn.jplist.domain.dom.services.SortService.numbers=function(a,b,c){c.sort(function(c,d){return jQuery.fn.jplist.domain.dom.services.SortService.numbersHelper(c,d,a,b)})}}(),function(){jQuery.fn.jplist.domain.dom.services.SortService.textHelper=function(a,b,c,d,e){return a=a.findPathitem(d),b=b.findPathitem(d),a&&b?(e?(d=new RegExp(e,"ig"),e=a.text.toString().replace(d,"").toLowerCase(),a=b.text.toString().replace(d,"").toLowerCase()):(e=a.text.toString().toLowerCase(),a=b.text.toString().toLowerCase()),e==a?0:"asc"==c?e>a?1:-1:a>e?1:-1):0},jQuery.fn.jplist.domain.dom.services.SortService.text=function(a,b,c,d){c.sort(function(c,e){return jQuery.fn.jplist.domain.dom.services.SortService.textHelper(c,e,a,b,d)})}}(),function(){var a=function(b,c,d,e){var f,g,h=0;if(0<d.length){if(f=d[e],"default"!==f.data.path){if(g=jQuery.fn.jplist.app.services.DTOMapperService.sort[f.data.type],jQuery.isFunction(g)&&(h=g(f,b,c),0===h&&jQuery.isArray(f.data.additionalPaths)&&0<f.data.additionalPaths.length))for(var i=0;i<f.data.additionalPaths.length;i++)h=jQuery.extend(!0,{},f),h.data.path=f.data.additionalPaths[i],h=g(h,b,c)}else f=b.index,g=c.index,h=f===g?0:isNaN(f)?1:isNaN(g)?-1:f-g;0===h&&e+1<d.length&&(h=a(b,c,d,e+1))}return h};jQuery.fn.jplist.domain.dom.services.SortService.doubleSort=function(b,c){var d=!1;return 1===b.length&&b[0]&&b[0].data&&"default"===b[0].data.path&&(d=!0),d||c.sort(function(c,d){return a(c,d,b,0)}),c}}(),function(){var a=function(a,b){var c=null;return"{month}"==a?(b=b.toLowerCase(),("january"===b||"jan"===b||"jan."===b)&&(c=0),("february"===b||"feb"===b||"feb."===b)&&(c=1),("march"===b||"mar"===b||"mar."===b)&&(c=2),("april"==b||"apr"===b||"apr."===b)&&(c=3),"may"===b&&(c=4),("july"==b||"jun"===b||"jun."===b)&&(c=5),("april"===b||"jul"===b||"jul."===b)&&(c=6),("august"===b||"aug"===b||"aug."===b)&&(c=7),("september"===b||"sep"===b||"sep."===b)&&(c=8),("october"===b||"oct"===b||"oct."===b)&&(c=9),("november"===b||"nov"===b||"nov."===b)&&(c=10),("december"===b||"dec"===b||"dec."===b)&&(c=11),null===c&&(c=parseInt(b,10),isNaN(c)||c--)):c=parseInt(b,10),c},b=function(a,b){var c,d=null;return c=a.replace(/{year}|{month}|{day}|{hour}|{min}|{sec}/g,".*"),(c=new RegExp(c,"g").exec(b))&&1<c.length&&(d=c[1]),d};jQuery.fn.jplist.domain.dom.services.HelperService={},jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml=function(a){var b,c,d="";if(a&&a[0]&&a[0].tagName){b=a[0].attributes,c=a.html(),a=a[0].tagName.toString().toLowerCase();for(var d=d+("<"+a),e=0;e<b.length;e++)b[e].nodeValue&&(d+=" "+b[e].nodeName+"=",d+='"'+b[e].nodeValue+'"');d=d+">"+c,d+="</"+a+">"}return d},jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters=function(a,b){return a?a.replace(new RegExp(b,"ig"),"").toLowerCase():""},jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime=function(c,d){var e,f,g,h,i,j;return d=d.replace(/\./g,"\\."),d=d.replace(/\(/g,"\\("),d=d.replace(/\)/g,"\\)"),d=d.replace(/\[/g,"\\["),d=d.replace(/\]/g,"\\]"),e=d.replace("{year}","(.*)"),(f=b(e,c))&&(f=a("{year}",f)),e=d.replace("{day}","(.*)"),(h=b(e,c))&&(h=a("{day}",h)),e=d.replace("{month}","(.*)"),(g=b(e,c))&&(g=a("{month}",g)),e=d.replace("{hour}","(.*)"),(i=b(e,c))&&(i=a("{hour}",i)),e=d.replace("{min}","(.*)"),(j=b(e,c))&&(j=a("{min}",j)),e=d.replace("{sec}","(.*)"),(e=b(e,c))&&(e=a("{sec}",e)),(!f||isNaN(f))&&(f=1900),(!g||isNaN(g))&&(g=0),(!h||isNaN(h))&&(h=1),(!i||isNaN(i))&&(i=0),(!j||isNaN(j))&&(j=0),(!e||isNaN(e))&&(e=0),new Date(f,g,h,i,j,e)}}(),function(){jQuery.fn.jplist.dal.services.DeepLinksService={},jQuery.fn.jplist.dal.services.DeepLinksService.getUrlParams=function(a){var b,c,d=[],e=[],d=window.decodeURIComponent(jQuery.trim(window.location.hash.replace(a.hashStart,"")));if(a.deepLinking&&""!==jQuery.trim(d))for(var d=d.split(a.delimiter1),f=0;f<d.length;f++)b=d[f],c=b.split("="),2===c.length&&(b=c[0],c=c[1],b=b.split(a.delimiter0),2===b.length&&(b={controlName:b[0],propName:b[1],propValue:c},e.push(b)));return e},jQuery.fn.jplist.dal.services.DeepLinksService.updateUrlPerControls=function(a,b){if(a.deepLinking){jQuery.fn.jplist.info(a,"Change Deep links URL according to statuses: ",b);var c,d=jQuery.trim(b.replace(a.hashStart,"")),d=""===d?a.hashStart:a.hashStart+d;window.location.hash!==d&&(c=window.location.href.indexOf(a.hashStart),d=-1==c?window.location.href+d:window.location.href.substring(0,c)+d,"replaceState"in window.history?window.history.replaceState("","",d):window.location.replace(d));
}}}(),function(){jQuery.fn.jplist.domain.server.models.DataItemModel=function(a,b,c){switch(this.content="",this.dataType=b,this.count=0,this.responseText=c,this.dataType||(this.dataType="html"),this.dataType){case"html":b=jQuery(a),0<b.length&&(this.content=b.html(),this.count=Number(b.attr("data-count"))||0);break;case"json":this.content=a.data,this.count=a.count;break;case"xml":b=jQuery(a).find("root"),this.count=Number(b.attr("count"))||0,this.content=0<this.count?a:""}}}(),function(){jQuery.fn.jplist.animation={},jQuery.fn.jplist.animation.drawItems=function(a,b,c,d,e,f,g,h){var i,j,k;(e=jQuery.fn.jplist.animation[e])?(i=e.before,k=e.effect,j=e.after,jQuery.isFunction(i)&&i(a,b,c,d),jQuery.isFunction(k)&&h.on(h.events.animationStepEvent,function(e,f,g){k(a,b,c,d,f)}),h.on(h.events.animationCompleteEvent,function(e){jQuery.isFunction(j)&&j(a,b,c,d),h.off(h.events.animationStepEvent),h.off(h.events.animationCompleteEvent),jQuery.isFunction(g)&&g()}),f.play(a.duration)):jQuery.isFunction(g)&&g()}}(),function(){var a=function(a){a.handler&&window.clearTimeout(a.handler),a.progress=0,a.start=null,a.observer.trigger(a.observer.events.animationCompleteEvent,[])},b=function(c,d){jQuery.isNumeric(d)&&d>0?c.handler=window.setTimeout(function(){var e;null===c.start&&(c.observer.trigger(c.observer.events.animationStartEvent,[]),c.start=(new Date).getTime()),e=(new Date).getTime()-c.start,c.progress=e/d,1<=c.progress&&(c.progress=1),c.observer.trigger(c.observer.events.animationStepEvent,[100*c.progress,c]),1>c.progress?b(c,d):a(c)},c.delay):a(c)};jQuery.fn.jplist.animation.Timeline=function(a,b,c){this.$scene=a,this.options=b,this.observer=c,this.start=null,this.progress=0,this.handler=this.delay=null,this.delay=1e3/this.options.fps},jQuery.fn.jplist.animation.Timeline.prototype.play=function(a){b(this,a)},jQuery.fn.jplist.animation.Timeline.prototype.stop=function(){a(this)}}(),function(){jQuery.fn.jplist.animation.fade={},jQuery.fn.jplist.animation.fade.before=function(a,b,c,d){},jQuery.fn.jplist.animation.fade.effect=function(a,b,c,d,e){b.find(a.itemPath).css({opacity:(100-e)/100})},jQuery.fn.jplist.animation.fade.after=function(a,b,c,d){b.empty(),d.css({opacity:1}),b.append(d)}}(),function(){var a=function(a,b,c){var d,e=b.dataitemsToJqueryObject(),f=b.dataviewToJqueryObject(),g=!1,h=jQuery.extend(!0,{},a.options,{duration:0});0>=e.length||0>=f.length?(a.$noResults.removeClass("jplist-hidden"),a.$itemsBox.addClass("jplist-hidden"),jQuery.isFunction(a.options.redrawCallback)&&a.options.redrawCallback(b,f,c)):(a.$noResults.addClass("jplist-hidden"),a.$itemsBox.removeClass("jplist-hidden"),a.options.effect?(a.history&&(d=a.history.getLastStatus())&&!d.inAnimation&&(g=!0),g=g?h:a.options,jQuery.fn.jplist.animation.drawItems(g,a.$itemsBox,e,f,a.options.effect,a.timeline,function(){jQuery.isFunction(a.options.redrawCallback)&&a.options.redrawCallback(b,f,c)},a.observer)):(e.detach(),a.$itemsBox.append(f),jQuery.isFunction(a.options.redrawCallback)&&a.options.redrawCallback(b,f,c)))};jQuery.fn.jplist.ui.list.views.DOMView=function(a,b,c,d){this.options=b,this.$root=a,this.observer=c,this.history=d,this.timelineZero=this.timeline=null,this.$itemsBox=a.find(b.itemsBox).eq(0),this.$noResults=a.find(b.noResults),this.options.effect&&(this.timeline=new jQuery.fn.jplist.animation.Timeline(this.$root,this.options,this.observer))},jQuery.fn.jplist.ui.list.views.DOMView.prototype.render=function(b,c){a(this,b,c)}}(),function(){jQuery.fn.jplist.ui.list.controllers.DOMController=function(a,b,c,d,e){this.options=b,this.observer=c,this.$root=a,this.history=e,this.storage=new jQuery.fn.jplist.dal.Storage(a,b,c),this.listView=this.itemControls=this.collection=null,this.itemControls=new jQuery.fn.jplist.ui.list.collections.ItemControlCollection(b,c,e,a),this.listView=new jQuery.fn.jplist.ui.list.views.DOMView(a,b,c,e),a=d.paths,b=this.$root.find(this.options.itemsBox).eq(0).find(this.options.itemPath),this.collection=new jQuery.fn.jplist.domain.dom.collections.DataItemsCollection(this.options,this.observer,b,a)},jQuery.fn.jplist.ui.list.controllers.DOMController.prototype.renderStatuses=function(a){this.storage.save(a),this.collection&&(this.collection.applyStatuses(a),this.listView.render(this.collection,a))}}(),function(){var a=function(a,b){var c="html";a.options.dataSource&&a.options.dataSource.server&&a.options.dataSource.server.ajax&&((c=a.options.dataSource.server.ajax.dataType)||(c="html")),a.storage.save(b),jQuery.fn.jplist.dal.services.URIService.get(b,a.options,function(b,d,e,f){b=new jQuery.fn.jplist.domain.server.models.DataItemModel(b,c,f.responseText);var g;for(e=new jQuery.fn.jplist.app.dto.StatusesDTOCollection(a.options,a.observer,d).getStatusesByAction("paging",d),f=0;f<e.length;f++)g=e[f],g.data.currentPage||(g.data.currentPage=0),g=new jQuery.fn.jplist.domain.dom.services.PaginationService(g.data.currentPage,g.data.number,b.count),e[f].data.paging=g;a.observer.trigger(a.observer.events.statusesAppliedToList,[null,d]),a.model.set(b,d)},function(a){},function(a){})};jQuery.fn.jplist.ui.list.controllers.ServerController=function(a,b,c,d,e){this.options=b,this.observer=c,this.history=e,this.storage=new jQuery.fn.jplist.dal.Storage(a,b,c),d=jQuery({}),d.$root=null,d.events={modelChanged:"modelChanged"},this.scopeObserver=d,this.$root=a,this.model=this.view=null,this.model=new jQuery.fn.jplist.ui.list.models.DataItemModel(null,null,this.scopeObserver),this.view=new jQuery.fn.jplist.ui.list.views.ServerView(a,b,c,this.scopeObserver,this.model,this.history)},jQuery.fn.jplist.ui.list.controllers.ServerController.prototype.renderStatuses=function(b){a(this,b)}}(),function(){var a=function(a,b,c){var d,e=!1,f=jQuery.extend(!0,{},a.options,{duration:0});b.content&&""!==jQuery.trim(b.content)?(a.$noResults.addClass("jplist-hidden"),a.$itemsBox.removeClass("jplist-hidden")):(a.$noResults.removeClass("jplist-hidden"),a.$itemsBox.addClass("jplist-hidden")),a.options.effect?(a.history&&(d=a.history.getLastStatus())&&!d.inAnimation&&(e=!0),e=e?f:a.options,jQuery.fn.jplist.animation.drawItems(e,a.$itemsBox,null,jQuery(b.content),a.options.effect,a.timeline,function(){jQuery.isFunction(a.options.redrawCallback)&&a.options.redrawCallback(b.content,c)},a.observer)):(a.options.dataSource&&jQuery.isFunction(a.options.dataSource.render)?a.options.dataSource.render(b,c):a.$itemsBox.html(b.content),jQuery.isFunction(a.options.redrawCallback)&&a.options.redrawCallback(b.content,c))},b=function(b){b.scopeObserver.on(b.scopeObserver.events.modelChanged,function(c,d,e){b.$preloader&&b.$preloader.addClass("jplist-hidden"),b.$itemsBox.removeClass("jplist-hidden"),a(b,d,e)})};jQuery.fn.jplist.ui.list.views.ServerView=function(a,c,d,e,f,g){this.options=c,this.$root=a,this.observer=d,this.scopeObserver=e,this.model=f,this.history=g,this.$itemsBox=a.find(c.itemsBox).eq(0),this.$noResults=a.find(c.noResults),this.timeline=this.$preloader=null,this.options.effect&&(this.timeline=new jQuery.fn.jplist.animation.Timeline(this.$root,this.options,this.observer)),b(this)}}(),function(){jQuery.fn.jplist.ui.list.models.DataItemModel=function(a,b,c){this.dataItem=a,this.statuses=b,this.scopeObserver=c},jQuery.fn.jplist.ui.list.models.DataItemModel.prototype.set=function(a,b){this.dataItem=a,this.statuses=b,this.scopeObserver.trigger(this.scopeObserver.events.modelChanged,[a,b])}}(),function(){jQuery.fn.jplist.ui.list.ItemControlFactory=function(a,b,c,d){this.options=a,this.observer=b,this.history=c,this.$root=d},jQuery.fn.jplist.ui.list.ItemControlFactory.prototype.create=function(a){var b,c,d=null,e=null,f=null;return b=a.attr("data-control-type"),c={},jQuery.fn.jplist.itemControlTypes[b]&&(c=jQuery.extend(!0,{},c,jQuery.fn.jplist.itemControlTypes[b])),this.options.itemControlTypes&&this.options.itemControlTypes[b]&&(c=jQuery.extend(!0,{},c,this.options.itemControlTypes[b])),c&&(c.className&&(e=jQuery.fn.jplist.ui.itemControls[c.className]),c.options&&(f=c.options)),b={type:b,itemControlType:c,controlTypeClass:e,controlOptions:f},b=jQuery.extend(!0,b,{$control:a,history:this.history,observer:this.observer,options:this.options,$root:this.$root}),b.controlTypeClass&&jQuery.isFunction(b.controlTypeClass)&&(d=new b.controlTypeClass(b)),d}}(),function(){var a=function(a){var b;a.options&&a.options.itemsBox&&(b=a.$root.find(a.options.itemsBox),0<b.length&&b.find("[data-control-type]").each(function(){var b=jQuery(this);(b=a.controlFactory.create(b))&&a.controls.push(b)}))};jQuery.fn.jplist.ui.list.collections.ItemControlCollection=function(b,c,d,e){this.options=b,this.observer=c,this.history=d,this.$root=e,this.controls=[],this.controlFactory=null,this.controlFactory=new jQuery.fn.jplist.ui.list.ItemControlFactory(b,c,d,e),a(this)}}(),function(){var a=function(a){var b,c=jQuery(window).scrollTop();b=Number(a.data("top")),isNaN(b)||(c>b?a.addClass("jplist-sticky"):a.removeClass("jplist-sticky"))},b=function(b,c){c.each(function(){var b=jQuery(this),c=b.offset().top;b.data("top",c),a(b)}),jQuery(window).scroll(function(){c.each(function(){a(jQuery(this))})})},c=function(a){var b=[];if("cookies"===a.options.storage||"localstorage"===a.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported())if(jQuery.fn.jplist.info(a.options,"Storage enabled: ",a.options.storage),"cookies"===a.options.storage&&(b=jQuery.fn.jplist.dal.services.CookiesService.restoreCookies(a.options.storageName)),"localstorage"===a.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported()&&(b=jQuery.fn.jplist.dal.services.LocalStorageService.restore(a.options.storageName)),0<b.length){for(var c=[],e=0;e<b.length;e++)b[e].inStorage&&c.push(b[e]);0<c.length&&(a.controls.setStatuses(c,!0),a.observer.trigger(a.observer.events.knownStatusesChanged,[c]))}else d(a,!0);else d(a,!0)},d=function(a,b){var c;c=a.controls.getStatuses(b),a.observer.trigger(a.observer.events.knownStatusesChanged,[c])},e=function(a){var b;b=[],b=a.$root.find(a.options.panelPath).find("[data-control-type]"),a.controls=new jQuery.fn.jplist.ui.panel.collections.ControlsCollection(a.options,a.observer,a.history,a.$root,b),a.paths=a.controls.getPaths(),jQuery.fn.jplist.logEnabled(a.options)&&(b=jQuery.map(a.paths,function(a,b){return a&&a.jqPath?a.jqPath:""}),jQuery.fn.jplist.info(a.options,"Panel paths: ",b.join(", ")))};jQuery.fn.jplist.ui.panel.controllers.PanelController=function(a,c,d,f){this.options=c,this.$root=a,this.history=d,this.observer=f,this.controls=this.paths=this.$sticky=null,e(this),this.$sticky=a.find('[data-sticky="true"]'),0<this.$sticky.length&&b(this,this.$sticky)},jQuery.fn.jplist.ui.panel.controllers.PanelController.prototype.setStatusesByDeepLink=function(){var a;a=jQuery.fn.jplist.dal.services.DeepLinksService.getUrlParams(this.options),jQuery.fn.jplist.info(this.options,"Set statuses by deep link: ",a),0>=a.length?c(this):this.controls.setDeepLinks(a)},jQuery.fn.jplist.ui.panel.controllers.PanelController.prototype.setStatusesFromStorage=function(){c(this)},jQuery.fn.jplist.ui.panel.controllers.PanelController.prototype.setStatuses=function(a){this.controls.setStatuses(a,!1),this.history.addList(a)},jQuery.fn.jplist.ui.panel.controllers.PanelController.prototype.unknownStatusesChanged=function(a){d(this,a)},jQuery.fn.jplist.ui.panel.controllers.PanelController.prototype.mergeStatuses=function(a){if(a.isAnimateToTop){var b;b=jQuery(this.options.animateToTop).offset().top,jQuery("html, body").animate({scrollTop:b},this.options.animateToTopDuration)}a=this.controls.merge(!1,a),this.observer.trigger(this.observer.events.knownStatusesChanged,[a])},jQuery.fn.jplist.ui.panel.controllers.PanelController.prototype.statusesChangedByDeepLinks=function(a,b){this.controls&&this.controls.statusesChangedByDeepLinks(b)},jQuery.fn.jplist.ui.panel.controllers.PanelController.prototype.getDeepLinksURLPerControls=function(){return this.controls.getDeepLinksUrl()}}(),function(){jQuery.fn.jplist.ui.panel.ControlFactory=function(a,b,c,d){this.options=a,this.observer=b,this.history=c,this.$root=d},jQuery.fn.jplist.ui.panel.ControlFactory.prototype.create=function(a,b){var c,d,e,f,g,h,i,j,k=null;return c=a.attr("data-control-type"),g=f=e=!0,h=!1,j=i=null,(d=a.attr("data-control-deep-link"))&&"false"===d.toString()&&(e=!1),(d=a.attr("data-control-storage"))&&"false"===d.toString()&&(f=!1),(d=a.attr("data-control-animation"))&&"false"===d.toString()&&(g=!1),(d=a.attr("data-control-animate-to-top"))&&"true"===d.toString()&&(h=!0),d={},jQuery.fn.jplist.controlTypes[c]&&(d=jQuery.extend(!0,{},d,jQuery.fn.jplist.controlTypes[c])),this.options.controlTypes&&this.options.controlTypes[c]&&(d=jQuery.extend(!0,{},d,this.options.controlTypes[c])),d&&(d.className&&(i=jQuery.fn.jplist.ui.controls[d.className]),d.options&&(j=d.options)),c={type:c,action:a.attr("data-control-action"),name:a.attr("data-control-name"),inDeepLinking:e,inStorage:f,inAnimation:g,isAnimateToTop:h,controlType:d,controlTypeClass:i,controlOptions:j,paths:[]},c=jQuery.extend(!0,c,{$control:a,history:this.history,observer:this.observer,options:this.options,$root:this.$root,controlsCollection:b}),c.controlTypeClass&&jQuery.isFunction(c.controlTypeClass)&&(k=new c.controlTypeClass(c)),k},jQuery.fn.jplist.ui.panel.ControlFactory.prototype.getStatus=function(a){return null},jQuery.fn.jplist.ui.panel.ControlFactory.prototype.setStatus=function(a,b){},jQuery.fn.jplist.ui.panel.ControlFactory.prototype.getDeepLink=function(){return""},jQuery.fn.jplist.ui.panel.ControlFactory.prototype.getStatusByDeepLink=function(a,b){return null},jQuery.fn.jplist.ui.panel.ControlFactory.prototype.getPaths=function(a){return[]},jQuery.fn.jplist.ui.panel.ControlFactory.prototype.setByDeepLink=function(a){}}(),function(){var a=function(a,b){var c,d;c=new jQuery.fn.jplist.app.dto.StatusesDTOCollection(a.options,a.observer,[]);for(var e=0;e<a.controls.length;e++)d=a.controls[e],jQuery.isFunction(d.getStatus)&&(d=d.getStatus(b))&&c.add(d,!1);return jQuery.fn.jplist.info(a.options,"getStatuses: ",c),c.toArray()},b=function(a,b){var c=a.controlFactory.create(b,a);c&&a.controls.push(c)};jQuery.fn.jplist.ui.panel.collections.ControlsCollection=function(a,c,d,e,f){for(this.options=a,this.observer=c,this.history=d,this.$root=e,this.controlFactory=null,this.$controls=f,this.controls=[],this.controlFactory=new jQuery.fn.jplist.ui.panel.ControlFactory(a,c,d,e),c=0;c<this.$controls.length;c++)a=this.$controls.eq(c),b(this,a)},jQuery.fn.jplist.ui.panel.collections.ControlsCollection.prototype.merge=function(b,c){var d,e;e=new jQuery.fn.jplist.app.dto.StatusesDTOCollection(this.options,this.observer,[]),d=a(this,b);for(var f=0;f<d.length;f++)e.add(d[f],!1);return e.add(c,!0),e.toArray()},jQuery.fn.jplist.ui.panel.collections.ControlsCollection.prototype.statusesChangedByDeepLinks=function(a){for(var b,c=0;c<this.controls.length;c++)b=this.controls[c],jQuery.isFunction(b.setByDeepLink)&&b.setByDeepLink(a)},jQuery.fn.jplist.ui.panel.collections.ControlsCollection.prototype.setDeepLinks=function(a){var b,c,d,e,f=new jQuery.fn.jplist.app.dto.StatusesDTOCollection(this.options,this.observer,[]);for(e=0;e<a.length;e++){b=a[e],c=b.controlName;var g=[];d=void 0;for(var h=0;h<this.controls.length;h++)d=this.controls[h],d.name===c&&g.push(d);for(c=g,g=0;g<c.length;g++)d=c[g],jQuery.isFunction(d.getStatusByDeepLink)&&(d=d.getStatusByDeepLink(b.propName,b.propValue))&&f.add(d,!1)}this.observer.trigger(this.observer.events.knownStatusesChanged,[f.toArray()]),this.observer.trigger(this.observer.events.statusesChangedByDeepLinks,[,f.toArray(),a])},jQuery.fn.jplist.ui.panel.collections.ControlsCollection.prototype.setStatuses=function(a,b){for(var c,d,e=0;e<a.length;e++){c=a[e],d=c.name;for(var f=c.action,g=[],h=void 0,i=0;i<this.controls.length;i++)h=this.controls[i],h.name===d&&h.action===f&&g.push(h);for(d=g,f=0;f<d.length;f++)jQuery.isFunction(d[f].setStatus)&&d[f].setStatus(c,b)}},jQuery.fn.jplist.ui.panel.collections.ControlsCollection.prototype.getDeepLinksUrl=function(){var a;a="";var b,c=[],d="";b=this.controls;for(var e=0;e<b.length;e++)a=b[e],jQuery.isFunction(a.getDeepLink)&&(d=jQuery.trim(a.getDeepLink())),""!==d&&-1===jQuery.inArray(d,c)&&c.push(d);return a=c.join(this.options.delimiter1)},jQuery.fn.jplist.ui.panel.collections.ControlsCollection.prototype.getStatuses=function(b){return a(this,b)},jQuery.fn.jplist.ui.panel.collections.ControlsCollection.prototype.getPaths=function(){var a,b,c=[];b=new jQuery.fn.jplist.domain.dom.collections.DataItemMemberPathCollection(this.options,this.observer);for(var d=0;d<this.controls.length;d++)a=this.controls[d],jQuery.isFunction(a.getPaths)&&(a.getPaths(c),b.addRange(c));return b.paths},jQuery.fn.jplist.ui.panel.collections.ControlsCollection.prototype.add=function(a){b(this,a)}}(),function(){var a=function(a){var b=[];a=jQuery(),jQuery(document).find("[data-control-type]").each(function(){var a=jQuery(this),c=a.attr("data-control-type");c&&jQuery.fn.jplist.controlTypes[c]&&jQuery.fn.jplist.controlTypes[c].dropdown&&b.push(a)});for(var c=0;c<b.length;c++)a=a.add(b[c]);return a},b=function(b){var c=a(b);0<c.length&&(jQuery(document).click(function(){c.find("ul").hide()}),jQuery(document).off(b.DROPDOWN_CLOSE_EVENT).on(b.DROPDOWN_CLOSE_EVENT,function(a,b){c.each(function(){jQuery(this).is(b)||jQuery(this).find("ul").hide()})})),b.$control.find(".jplist-dd-panel").off().on("click",function(a){var c;a.stopPropagation(),a=jQuery(this).parents("[data-control-type]"),c=a.find("ul"),jQuery(document).trigger(b.DROPDOWN_CLOSE_EVENT,[a]),c.toggle(0)})},c=function(a,c,d,e){return a={options:a,observer:c,history:d,$control:e,DROPDOWN_CLOSE_EVENT:"dropdown-close-event"},c=a.$control.find("li:eq(0)"),c.addClass("active"),c=c.find("span"),0>=a.$control.find(".jplist-dd-panel").length&&a.$control.prepend('<div class="jplist-dd-panel">'+c.text()+"</div>"),b(a),jQuery.extend(this,a)};jQuery.fn.jplist.ui.panel.DropdownControl=function(a,b,d,e){return new c(a,b,d,e)}}(),function(){jQuery.fn.jplist.dal.Storage=function(a,b,c){this.options=b,this.observer=c,this.$root=a,this.isStorageEnabled=!1,this.isStorageEnabled="cookies"===this.options.storage||"localstorage"===this.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported()},jQuery.fn.jplist.dal.Storage.prototype.save=function(a){var b,c=[];if(a&&this.isStorageEnabled){for(var d=0;d<a.length;d++)b=a[d],b.inStorage&&c.push(b);"cookies"===this.options.storage&&jQuery.fn.jplist.dal.services.CookiesService.saveCookies(c,this.options.storageName,this.options.cookiesExpiration),"localstorage"===this.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported()&&jQuery.fn.jplist.dal.services.LocalStorageService.save(c,this.options.storageName)}}}(),function(){jQuery.fn.jplist.dal.services.CookiesService={},jQuery.fn.jplist.dal.services.CookiesService.setCookie=function(a,b,c){b=escape(b);var d=new Date;c=Number(c),-1==c||isNaN(c)?document.cookie=a+"="+b+";path=/;":(d.setMinutes(d.getMinutes()+c),document.cookie=a+"="+b+";path=/; expires="+d.toUTCString())},jQuery.fn.jplist.dal.services.CookiesService.getCookie=function(a){var b,c,d,e=null;d=document.cookie.split(";");for(var f=0;f<d.length;f++)if(b=d[f].substr(0,d[f].indexOf("=")),c=d[f].substr(d[f].indexOf("=")+1),b=b.replace(/^\s+|\s+$/g,""),b==a){e=unescape(c);break}return e},jQuery.fn.jplist.dal.services.CookiesService.saveCookies=function(a,b,c){a=JSON.stringify(a),jQuery.fn.jplist.dal.services.CookiesService.setCookie(b,a,c)},jQuery.fn.jplist.dal.services.CookiesService.restoreCookies=function(a){var b=[];return(a=jQuery.fn.jplist.dal.services.CookiesService.getCookie(a))&&(b=jQuery.parseJSON(a)),b||(b=[]),b}}(),function(){jQuery.fn.jplist.dal.services.LocalStorageService={},jQuery.fn.jplist.dal.services.LocalStorageService.supported=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(a){return!1}},jQuery.fn.jplist.dal.services.LocalStorageService.save=function(a,b){var c;c=JSON.stringify(a),window.localStorage[b]=c},jQuery.fn.jplist.dal.services.LocalStorageService.restore=function(a){var b=[];return(a=window.localStorage[a])&&(b=jQuery.parseJSON(a)),b||(b=[]),b}}(),function(){jQuery.fn.jplist.dal.services.URIService={},jQuery.fn.jplist.dal.services.URIService.get=function(a,b,c,d,e){var f=b.dataSource.server;f.ajax.data||(f.ajax.data={}),f.ajax.data.statuses=encodeURIComponent(JSON.stringify(a,function(a,b){return b&&b.nodeType?null:b})),jQuery.ajax(f.ajax).done(function(b,d,e){jQuery.isFunction(c)&&c(b,a,d,e),jQuery.isFunction(f.serverOkCallback)&&f.serverOkCallback(b,a,d,e)}).fail(function(){jQuery.isFunction(d)&&d(a),jQuery.isFunction(f.serverErrorCallback)&&f.serverErrorCallback(a)}).always(function(){jQuery.isFunction(e)&&e(a)})}}(),function(){var a=function(a,b){var c,d=[];c=null;var e;return a.params.$checkboxes.each(function(a,c){var f=jQuery(c);e=b?void 0!==f.attr("checked")?Boolean(f.attr("checked")):!1:f.get(0).checked,f=f.attr("data-path"),e&&f&&d.push(f)}),c=new jQuery.fn.jplist.ui.controls.CheckboxDropdownFilter(d),c=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,c,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking)},b=function(a,b){a.params.$checkboxes.each(function(a,c){var d;(d=jQuery(this).attr("data-path"))&&(d=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d,"text"),b.push(d))})},c=function(a){a.params.$checkboxes.each(function(a,b){var c;c=jQuery(b),c.removeClass("jplist-selected"),c.get(0).checked=!1})},d=function(a){var b,c=a.params.$checkboxes.filter(":checked"),d="";switch(c.length){case 0:d=a.params.noSelectedText;break;case 1:d=a.params.oneItemText;break;default:d=a.params.manyItemsText}return b="",c.each(function(a,c){a>0&&(b+=", "),b+=jQuery.trim(jQuery(c).next("label").text())}),d=d.replace(/{selected}/g,b),d=d.replace(/{num}/g,c.length)},e=function(b){b.$control.find("li").off().on("click",function(a){a.stopPropagation()}),b.params.$checkboxes.on("change",function(){var c=a(b,!1);b.observer.trigger(b.observer.events.statusChanged,[c])})},f=function(a){return a.params={$checkboxes:a.$control.find("[data-path]"),$panel:null,noSelectedText:a.$control.attr("data-no-selected-text")||"",oneItemText:a.$control.attr("data-one-item-text")||"",manyItemsText:a.$control.attr("data-many-items-text")||""},c(a),new jQuery.fn.jplist.ui.panel.DropdownControl(a.options,a.observer,a.history,a.$control),a.params.$panel=a.$control.find(".jplist-dd-panel"),e(a),a.params.$panel.text(d(a)),jQuery.extend(this,a)};f.prototype.getStatus=function(b){return a(this,b)},f.prototype.getDeepLink=function(){var b,c="",d="";if(this.inDeepLinking&&(b=a(this,!1),b.data&&jQuery.isArray(b.data.pathGroup)&&0<b.data.pathGroup.length)){for(c=0;c<b.data.pathGroup.length;c++)""!==d&&(d+=this.options.delimiter2),d+=b.data.pathGroup[c];c=this.name+this.options.delimiter0+"pathGroup="+d}return c},f.prototype.getStatusByDeepLink=function(b,c){var d,e=null;return this.inDeepLinking&&(e=a(this,!0),e.data&&"pathGroup"===b&&(d=c.split(this.options.delimiter2),0<d.length&&(e.data.pathGroup=d))),e},f.prototype.getPaths=function(a){b(this,a)},f.prototype.setStatus=function(a,b){var e;if(c(this),a.data&&a.data.pathGroup&&jQuery.isArray(a.data.pathGroup)&&0<a.data.pathGroup.length)for(var f=0;f<a.data.pathGroup.length;f++)e=a.data.pathGroup[f],e=this.params.$checkboxes.filter('[data-path="'+e+'"]'),0<e.length&&(e.addClass("jplist-selected"),e.get(0).checked=!0);this.params.$panel.text(d(this))},jQuery.fn.jplist.ui.controls.CheckboxDropdown=function(a){return new f(a)},jQuery.fn.jplist.controlTypes["checkbox-dropdown"]={className:"CheckboxDropdown",options:{},dropdown:!0}}(),function(){jQuery.fn.jplist.ui.controls.CheckboxDropdownFilter=function(a){return{pathGroup:a,filterType:"pathGroup"}}}(),function(){var a=function(a){return jQuery.extend(this,a)};a.prototype.setStatus=function(a,b){var c,d;c=a.data.paging,!c||0>=c.pagesNumber?(this.$control.html(""),this.$control.addClass("jplist-empty")):(this.$control.removeClass("jplist-empty"),d=this.$control.attr("data-type"),d=d.replace("{current}",c.currentPage+1),d=d.replace("{pages}",c.pagesNumber),d=d.replace("{start}",c.start+1),d=d.replace("{end}",c.end),d=d.replace("{all}",c.itemsNumber),this.$control.html(d))},jQuery.fn.jplist.ui.controls.PaginationInfo=function(b){return new a(b)},jQuery.fn.jplist.controlTypes["pagination-info"]={className:"PaginationInfo",options:{}}}(),function(){var a=function(a,b){var c;c=null;var d;return d=!1,c=a.$control.find("button[data-active]").eq(0),0>=c.length&&(c=a.$control.find("button").eq(0)),c=b?0:Number(c.attr("data-number"))||0,(d="true"===a.$control.attr("data-jump-to-start")||a.controlOptions.jumpToStart)&&(d=a.history.getLastStatus())&&"pagination"!==d.type&&"views"!==d.type&&(c=0),d=Number(a.$control.attr("data-items-per-page"))||0,c=new jQuery.fn.jplist.ui.controls.PaginationDTO(c,d),c=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,c,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking)},b=function(b){b.$control.on("click","button",function(){var c,d=null;c=jQuery(this);var e;c=Number(c.attr("data-number"))||0,d=a(b,!1),d.data.currentPage=c,e=b.$root.find('[data-control-type="pagination"]'),e.find("button").removeAttr("data-active"),e.find('button[data-number="'+c+'"]').each(function(){jQuery(this).attr("data-active",!0)}),b.observer.trigger(b.observer.events.statusChanged,[d])})},c=function(a){return a.params={view:new jQuery.fn.jplist.ui.controls.PaginationView(a.$control,a.controlOptions)},b(a),jQuery.extend(this,a)};c.prototype.getStatus=function(b){return a(this,b)},c.prototype.getDeepLink=function(){var b,c="";return this.inDeepLinking&&(b=a(this,!1),b.data&&(jQuery.isNumeric(b.data.currentPage)&&(c=this.name+this.options.delimiter0+"currentPage="+b.data.currentPage),jQuery.isNumeric(b.data.number)&&(c=this.name+this.options.delimiter0+"number="+b.data.number))),c},c.prototype.getStatusByDeepLink=function(b,c){var d;a:if(d=null,this.inDeepLinking){if("currentPage"!==b){d=null;break a}d=a(this,!0),d.data&&"currentPage"===b&&(d.data.currentPage=c)}return d},c.prototype.setStatus=function(a,b){a.data&&a.data.paging&&this.params.view.build(a.data.paging)},jQuery.fn.jplist.ui.controls.Pagination=function(a){return new c(a)},jQuery.fn.jplist.controlTypes.pagination={className:"Pagination",options:{}}}(),function(){var a=function(a,b,c){var d;d='<div class="jplist-pagesbox" data-type="pagesbox">';for(var e=a;b>e;e++)d+='<button type="button" data-type="page" ',e===c&&(d+=' class="jplist-current" data-active="true" '),a=e+1,d+=' data-number="'+e+'" ',d+=">"+a+"</button> ";return d+"</div>"},b=function(a,b){var c,d,e,f,g={$control:a,options:b,$pagingprev:null,$pagingmid:null,$pagingnext:null,$jplistFirst:null,$jplistPrev:null,$jplistNext:null,$jplistLast:null,mode:a.attr("data-mode")};return c=g.$control.attr("data-prev")||g.options.prevArrow,d=g.$control.attr("data-next")||g.options.nextArrow,e=g.$control.attr("data-first")||g.options.firstArrow,f=g.$control.attr("data-last")||g.options.lastArrow,g.$control.html('<div class="jplist-pagingprev" data-type="pagingprev"></div><div class="jplist-pagingmid" data-type="pagingmid"></div><div class="jplist-pagingnext" data-type="pagingnext"></div>'),g.$pagingprev=g.$control.find('[data-type="pagingprev"]'),g.$pagingmid=g.$control.find('[data-type="pagingmid"]'),g.$pagingnext=g.$control.find('[data-type="pagingnext"]'),g.$pagingprev.html('<button type="button" class="jplist-first" data-number="0" data-type="first">'+e+'</button><button type="button" class="jplist-prev" data-type="prev">'+c+"</button>"),g.$pagingnext.html('<button type="button" class="jplist-next" data-type="next">'+d+'</button><button type="button" class="jplist-last" data-type="last">'+f+"</button>"),g.$jplistFirst=g.$pagingprev.find('[data-type="first"]'),g.$jplistPrev=g.$pagingprev.find('[data-type="prev"]'),g.$jplistNext=g.$pagingnext.find('[data-type="next"]'),g.$jplistLast=g.$pagingnext.find('[data-type="last"]'),jQuery.extend(this,g)};b.prototype.build=function(b){if(0<=b.currentPage&&b.currentPage<b.pagesNumber){switch(this.$control.removeClass("jplist-hidden"),this.mode){case"google-like":var c,d="";c=Number(this.$control.attr("data-range"))||this.options.range,d=b.currentPage-Math.floor((c-1)/2),0>d&&(d=0),c=d+c,c>b.pagesNumber&&(c=b.pagesNumber),d=a(d,c,b.currentPage),this.$pagingmid.html(d);break;default:var e;e=Number(this.$control.attr("data-range"))||this.options.range,c=Math.floor(b.currentPage/e),d=e*(c+1),d>b.pagesNumber&&(d=b.pagesNumber),d=a(e*c,d,b.currentPage),this.$pagingmid.html(d)}this.$jplistPrev.attr("data-number",b.prevPage).removeClass("jplist-current"),this.$jplistNext.attr("data-number",b.nextPage).removeClass("jplist-current"),this.$jplistLast.attr("data-number",b.pagesNumber-1).removeClass("jplist-current"),1>=b.pagesNumber?this.$control.addClass("jplist-one-page"):this.$control.removeClass("jplist-one-page")}else this.$control.addClass("jplist-hidden");0===b.currentPage?this.$pagingprev.addClass("jplist-hidden"):this.$pagingprev.removeClass("jplist-hidden"),b.currentPage==b.pagesNumber-1?this.$pagingnext.addClass("jplist-hidden"):this.$pagingnext.removeClass("jplist-hidden")},jQuery.fn.jplist.ui.controls.PaginationView=function(a,c){return new b(a,c)},jQuery.fn.jplist.controlTypes.pagination={className:"Pagination",options:{range:7,jumpToStart:!1,prevArrow:"&lsaquo;",nextArrow:"&rsaquo;",firstArrow:"&laquo;",lastArrow:"&raquo;"}}}(),function(){jQuery.fn.jplist.ui.controls.PaginationDTO=function(a,b){var c={currentPage:a,paging:null};return b&&(c.number=b),c}}(),function(){var a=function(a,b){var c=null;return b?(c=a.$control.find('li:has(span[data-default="true"])').eq(0),0>=c.length&&(c=a.$control.find("li:eq(0)"))):c=a.$control.find(".active"),c=c.find("span"),c=new jQuery.fn.jplist.ui.controls.DropdownPaginationDTO(c.attr("data-number")),c=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,c,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking)},b=function(a,b){var c,d,e;a.$control.find("span").each(function(){c=jQuery(this).attr("data-path"),d=jQuery(this).attr("data-type"),c&&""!==jQuery.trim(c)&&(e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(c,d),b.push(e))})},c=function(b){b.$control.find("li").off().on("click",function(){var c,d,e,f;c=a(b,!1),f=jQuery(this).find("span"),d=f.attr("data-path"),e=f.attr("data-number"),d?(c.data.path=d,c.data.type=f.attr("data-type"),c.data.order=f.attr("data-order")):e&&(c.data.number=e),b.observer.trigger(b.observer.events.statusChanged,[c])})},d=function(a){return new jQuery.fn.jplist.ui.panel.DropdownControl(a.options,a.observer,a.history,a.$control),c(a),jQuery.extend(this,a)};d.prototype.getStatus=function(b){return a(this,b)},d.prototype.getDeepLink=function(){var b,c="";return this.inDeepLinking&&(b=a(this,!1),b.data&&(jQuery.isNumeric(b.data.number)||"all"===b.data.number)&&(c=this.name+this.options.delimiter0+"number="+b.data.number)),c},d.prototype.getStatusByDeepLink=function(b,c){var d;a:if(d=null,this.inDeepLinking){if("number"!==b&&b!=="path"+this.options.delimiter2+"type"+this.options.delimiter2+"order"&&"path"!==b){d=null;break a}d=a(this,!0),d.data&&"number"===b&&jQuery.isNumeric(d.data.number)&&(d.data.number=c)}return d},d.prototype.getPaths=function(a){b(this,a)},d.prototype.setStatus=function(a,b){var c,d;d=this.$control.find("li"),d.removeClass("active"),c=this.$control.find('li:has([data-number="'+a.data.number+'"])'),0===c.length&&(c=this.$control.find('li:has([data-number="all"])')),0>=c.length&&(c=d.eq(0)),c.addClass("active"),this.$control.find(".jplist-dd-panel").text(c.eq(0).text())},jQuery.fn.jplist.ui.controls.ItemsPerPageDropdown=function(a){return new d(a)},jQuery.fn.jplist.controlTypes["items-per-page-drop-down"]={className:"ItemsPerPageDropdown",options:{},dropdown:!0}}(),function(){var a=function(a,b){var c;return c=null,b?(c=a.$control.find('option[data-default="true"]').eq(0),0>=c.length&&(c=a.$control.find("option").eq(0))):c=a.$control.find("option:selected"),
c=new jQuery.fn.jplist.ui.controls.DropdownPaginationDTO(c.attr("data-number")),c=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,c,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking)},b=function(a,b){var c,d,e;a.$control.find("option").each(function(){c=jQuery(this).attr("data-path"),d=jQuery(this).attr("data-type"),c&&(e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(c,d),b.push(e))})},c=function(b){b.$control.change(function(){var c,d,e;c=a(b,!1),d=jQuery(this).find("option:selected"),e=d.attr("data-path"),d=d.attr("data-number"),e?(c.data.path=e,c.data.type=jQuery(this).attr("data-type"),c.data.order=jQuery(this).attr("data-order")):d&&(c.data.number=d),b.observer.trigger(b.observer.events.statusChanged,[c])})},d=function(a){return c(a),jQuery.extend(this,a)};d.prototype.getStatus=function(b){return a(this,b)},d.prototype.getDeepLink=function(){var b,c="";return this.inDeepLinking&&(b=a(this,!1),b.data&&jQuery.isNumeric(b.data.number)&&(c=this.name+this.options.delimiter0+"number="+b.data.number)),c},d.prototype.getStatusByDeepLink=function(b,c){var d=null;return this.inDeepLinking&&(d=a(this,!0),d.data&&"number"===b&&jQuery.isNumeric(d.data.number)&&(d.data.number=c)),d},d.prototype.getPaths=function(a){b(this,a)},d.prototype.setStatus=function(a,b){var c;c=this.$control.find('option[data-number="'+a.data.number+'"]'),0===c.length&&(c=this.$control.find('option[data-number="all"]')),c.get(0).selected=!0},jQuery.fn.jplist.ui.controls.ItemsPerPageSelect=function(a){return new d(a)},jQuery.fn.jplist.controlTypes["items-per-page-select"]={className:"ItemsPerPageSelect",options:{}}}(),function(){jQuery.fn.jplist.ui.controls.DropdownPaginationDTO=function(a){return{number:a}}}(),function(){jQuery.fn.jplist.ui.controls.TextboxDTO=function(a,b,c,d){return{path:a,ignore:c,value:b,mode:d,filterType:"TextFilter"}}}(),function(){var a=function(a,b){var c,d;return c=a.$control.attr("data-path"),d=b?a.$control.attr("value")||"":a.$control.val(),c=new jQuery.fn.jplist.ui.controls.TextboxDTO(c,d,a.params.ignore,a.params.mode),new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,c,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking)},b=function(b){b.params.$button&&0<b.params.$button.length?b.params.$button.on("click",function(c){return c.preventDefault(),b.history.addStatus(a(b,!1)),b.observer.trigger(b.observer.events.unknownStatusesChanged,[!1]),!1}):b.$control.on(b.params.eventName,function(){b.history.addStatus(a(b,!1)),b.observer.trigger(b.observer.events.unknownStatusesChanged,[!1])})},c=function(a){return a.params={path:a.$control.attr("data-path"),dataButton:a.$control.attr("data-button"),mode:a.$control.attr("data-mode")||"contains",ignore:a.$control.attr("data-ignore")||"[~!@#$%^&*()+=`'\"/\\_]+",eventName:a.$control.attr("data-event-name")||"keyup",$button:null},a.$control.val(a.$control.attr("value")||""),a.params.dataButton&&(a.params.$button=jQuery(a.params.dataButton)),b(a),jQuery.extend(this,a)};c.prototype.getStatus=function(b){return a(this,b)},c.prototype.getDeepLink=function(){var b,c="";return this.inDeepLinking&&(b=a(this,!1),b.data&&""!==jQuery.trim(b.data.value)&&(c=this.name+this.options.delimiter0+"value="+b.data.value)),c},c.prototype.getStatusByDeepLink=function(b,c){var d=null;return this.inDeepLinking&&(d=a(this,!0),d.data&&"value"===b&&(d.data.value=c)),d},c.prototype.getPaths=function(a){var b;b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(this.params.path,null),a.push(b)},c.prototype.setStatus=function(a,b){a.data&&(a.data.value||(a.data.value=""),this.$control.val(a.data.value))},jQuery.fn.jplist.ui.controls.Textbox=function(a){return new c(a)},jQuery.fn.jplist.controlTypes.textbox={className:"Textbox",options:{}}}(),function(){var a=function(a){return jQuery.extend(this,a)};a.prototype.getStatus=function(a){return a=new jQuery.fn.jplist.ui.controls.DefaultSortDTO(this.$control.attr("data-path"),this.$control.attr("data-type"),this.$control.attr("data-order"),this.$control.attr("data-datetime-format"),this.$control.attr("data-ignore")),new jQuery.fn.jplist.app.dto.StatusDTO(this.name,this.action,this.type,a,this.inStorage,this.inAnimation,this.isAnimateToTop,this.inDeepLinking)},a.prototype.getPaths=function(a){var b,c;b=this.$control.attr("data-path"),c=this.$control.attr("data-type"),b&&(b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b,c),a.push(b))},jQuery.fn.jplist.ui.controls.DefaultSort=function(b){return new a(b)},jQuery.fn.jplist.controlTypes["default-sort"]={className:"DefaultSort",options:{}}}(),function(){jQuery.fn.jplist.ui.controls.DefaultSortDTO=function(a,b,c,d,e){return{path:a,type:b,order:c,dateTimeFormat:d,ignore:e}}}(),function(){var a=function(a){var b=[];return jQuery.each(a.get(0).attributes,function(a,c){-1!==c.name.indexOf("data-path-")&&b.push(c.value)}),b},b=function(b,c){var d;d=null;var e="",f="";return c?(d=b.$control.find('option[data-default="true"]').eq(0),0>=d.length&&(d=b.$control.find("option").eq(0))):d=b.$control.find("option:selected"),e=b.$control.attr("data-datetime-format")||"",f=b.$control.attr("data-ignore")||"",e=new jQuery.fn.jplist.ui.controls.DropdownSortDTO(d.attr("data-path"),d.attr("data-type"),d.attr("data-order"),e,f),d=new jQuery.fn.jplist.app.dto.StatusDTO(b.name,b.action,b.type,e,b.inStorage,b.inAnimation,b.isAnimateToTop,b.inDeepLinking,a(d))},c=function(a,b){var c,d,e;a.$control.find("option").each(function(){c=jQuery(this).attr("data-path"),d=jQuery(this).attr("data-type"),c&&(e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(c,d),b.push(e))})},d=function(c){c.$control.on("change",function(){var d,e,f;d=b(c,!1),e=jQuery(this).find("option:selected"),(f=e.attr("data-path"))&&(d.data.path=f,d.data.type=e.attr("data-type"),d.data.order=e.attr("data-order"),d.data.additionalPaths=a(e)),c.observer.trigger(c.observer.events.statusChanged,[d])})},e=function(a){return d(a),jQuery.extend(this,a)};e.prototype.getStatus=function(a){return b(this,a)},e.prototype.getDeepLink=function(){var a,c="";return this.inDeepLinking&&(a=b(this,!1),a.data&&a.data.path&&a.data.type&&a.data.order&&(c=this.name+this.options.delimiter0+"path"+this.options.delimiter2+"type"+this.options.delimiter2+"order="+a.data.path+this.options.delimiter2+a.data.type+this.options.delimiter2+a.data.order)),c},e.prototype.getStatusByDeepLink=function(a,c){var d,e=null;return this.inDeepLinking&&(e=b(this,!0),e.data&&a==="path"+this.options.delimiter2+"type"+this.options.delimiter2+"order"&&(d=c.split(this.options.delimiter2),3===d.length&&(e.data.path=d[0],e.data.type=d[1],e.data.order=d[2]))),e},e.prototype.getPaths=function(a){c(this,a)},e.prototype.setStatus=function(a,b){var c;c="default"==a.data.path?this.$control.find('option[data-path="'+a.data.path+'"]'):this.$control.find('option[data-path="'+a.data.path+'"][data-type="'+a.data.type+'"][data-order="'+a.data.order+'"]'),0<c.length&&(c.get(0).selected=!0)},jQuery.fn.jplist.ui.controls.SortSelect=function(a){return new e(a)},jQuery.fn.jplist.controlTypes["sort-select"]={className:"SortSelect",options:{}}}(),function(){var a=function(a){var b=[];return jQuery.each(a.get(0).attributes,function(a,c){-1!==c.name.indexOf("data-path-")&&b.push(c.value)}),b},b=function(b,c){var d,e,f=null;return c?(f=b.$control.find('li:has(span[data-default="true"])').eq(0),0>=f.length&&(f=b.$control.find("li:eq(0)"))):f=b.$control.find(".active"),f=f.find("span"),d=b.$control.attr("data-datetime-format")||"",e=b.$control.attr("data-ignore")||"",f=new jQuery.fn.jplist.ui.controls.DropdownSortDTO(f.attr("data-path"),f.attr("data-type"),f.attr("data-order"),d,e,a(f)),f=new jQuery.fn.jplist.app.dto.StatusDTO(b.name,b.action,b.type,f,b.inStorage,b.inAnimation,b.isAnimateToTop,b.inDeepLinking)},c=function(a,b){a.$control.find("span").each(function(){var a,c;a=jQuery(this).attr("data-path"),c=jQuery(this).attr("data-type"),a&&""!==jQuery.trim(a)&&(a=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(a,c),b.push(a))})},d=function(c){c.$control.find("li").off("click").on("click",function(){var d,e,f;d=b(c,!1),f=jQuery(this).find("span"),(e=f.attr("data-path"))&&(d.data.path=e,d.data.type=f.attr("data-type"),d.data.order=f.attr("data-order"),d.data.additionalPaths=a(f)),c.observer.trigger(c.observer.events.statusChanged,[d])})},e=function(a){return new jQuery.fn.jplist.ui.panel.DropdownControl(a.options,a.observer,a.history,a.$control),d(a),jQuery.extend(this,a)};e.prototype.getStatus=function(a){return b(this,a)},e.prototype.getDeepLink=function(){var a,c="";return this.inDeepLinking&&(a=b(this,!1),a.data&&a.data.path&&a.data.type&&a.data.order&&(c=this.name+this.options.delimiter0+"path"+this.options.delimiter2+"type"+this.options.delimiter2+"order="+a.data.path+this.options.delimiter2+a.data.type+this.options.delimiter2+a.data.order)),c},e.prototype.getStatusByDeepLink=function(a,c){var d;a:{d=null;var e;if(this.inDeepLinking){if("number"!==a&&a!=="path"+this.options.delimiter2+"type"+this.options.delimiter2+"order"&&"path"!==a){d=null;break a}d=b(this,!0),d.data&&a==="path"+this.options.delimiter2+"type"+this.options.delimiter2+"order"&&(e=c.split(this.options.delimiter2),3===e.length&&(d.data.path=e[0],d.data.type=e[1],d.data.order=e[2]))}}return d},e.prototype.getPaths=function(a){c(this,a)},e.prototype.setStatus=function(a,b){var c,d;d=this.$control.find("li"),d.removeClass("active"),c="default"==a.data.path?this.$control.find('li:has([data-path="default"])'):this.$control.find('li:has([data-path="'+a.data.path+'"][data-type="'+a.data.type+'"][data-order="'+a.data.order+'"])'),0>=c.length&&(c=d.eq(0)),c.addClass("active"),this.$control.find(".jplist-dd-panel").text(c.eq(0).text())},jQuery.fn.jplist.ui.controls.SortDropdown=function(a){return new e(a)},jQuery.fn.jplist.controlTypes["sort-drop-down"]={className:"SortDropdown",options:{},dropdown:!0}}(),function(){jQuery.fn.jplist.ui.controls.DropdownSortDTO=function(a,b,c,d,e,f){return{path:a,type:b,order:c,dateTimeFormat:d,ignore:e,additionalPaths:f}}}();